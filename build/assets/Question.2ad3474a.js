import{L as R,r as k,o,c as a,b as e,a as w,w as C,f as m,h as z,x as X,E as Z,H as p,z as f,n as E,t as r,d as c,K as tt,F as x,e as M,m as N}from"./app.7382884e.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";import{a as D}from"./index.669bbb1e.js";import{p as et,e as nt,t as st}from"./index.es.2ea71be9.js";import{S as P}from"./sweetalert2.all.6c512030.js";const it={components:{Link:R}},ot={class:"navbar navbar-expand-lg navbar-light bg-white rounded fixed-top rounded-0 shadow-sm"},at={class:"container-fluid"},dt=e("a",{class:"navbar-brand",href:"#"},null,-1),lt=e("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent1","aria-controls":"navbarSupportedContent1","aria-expanded":"false","aria-label":"Toggle navigation"},[e("span",{class:"navbar-toggler-icon"})],-1),ct={class:"collapse navbar-collapse",id:"navbarSupportedContent1"},rt={class:"navbar-nav ms-auto mb-2 mb-lg-0"},ut=e("li",{class:"nav-item"},[e("a",{class:"nav-link","aria-current":"page",href:"/user/dashboard"},[e("i",{class:"bx bx-home-alt me-1"}),m("Home")])],-1),_t={class:"nav-item"},ht=e("i",{class:"bx bx-log-out-circle"},null,-1),mt=m("Logout");function gt(s,i,n,t,_,h){const y=k("Link");return o(),a("nav",ot,[e("div",at,[dt,lt,e("div",ct,[e("ul",rt,[ut,e("li",_t,[w(y,{class:"nav-link",href:"/logout",method:"POST"},{default:C(()=>[ht,mt]),_:1})])])])])])}const bt=T(it,[["render",gt]]),yt={},vt={class:"bg-white p-3 fixed-bottom border-top shadow"};function ft(s,i,n,t,_,h){return o(),a("div",vt)}const xt=T(yt,[["render",ft]]),kt={components:{Header:bt,Footer:xt}},wt={class:"wrapper"};function Lt(s,i,n,t,_,h){const y=k("Header"),v=k("Footer");return o(),a("div",wt,[w(y),z(s.$slots,"default"),w(v)])}const Et=T(kt,[["render",Lt]]);/*! vue-countdown v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */const q=1e3,S=60*q,A=60*S,B=24*A,H="abort",O="end",V="progress",U="start",F="visibilitychange";var Mt=X({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:s=>s>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:s=>s>=0},transform:{type:Function,default:s=>s}},emits:[H,O,V,U],data(){return{counting:!1,endTime:0,totalMilliseconds:0,requestId:0}},computed:{days(){return Math.floor(this.totalMilliseconds/B)},hours(){return Math.floor(this.totalMilliseconds%B/A)},minutes(){return Math.floor(this.totalMilliseconds%A/S)},seconds(){return Math.floor(this.totalMilliseconds%S/q)},milliseconds(){return Math.floor(this.totalMilliseconds%q)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/A)},totalMinutes(){return Math.floor(this.totalMilliseconds/S)},totalSeconds(){return Math.floor(this.totalMilliseconds/q)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(F,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(F,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.emitEvents&&this.$emit(U),document.visibilityState==="visible"&&this.continue())},continue(){if(!this.counting)return;const s=Math.min(this.totalMilliseconds,this.interval);if(s>0){let i,n;const t=_=>{i||(i=_),n||(n=_);const h=_-i;h>=s||h+(_-n)/2>=s?this.progress():this.requestId=requestAnimationFrame(t),n=_};this.requestId=requestAnimationFrame(t)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){!this.counting||(this.totalMilliseconds-=this.interval,this.emitEvents&&this.totalMilliseconds>0&&this.$emit(V,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){!this.counting||(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(H))},end(){!this.counting||(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit(O))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause();break}}},render(){return Z(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const Pt={layout:Et,components:{Head:p,Link:R,VueCountdown:Mt,MathJax:et},props:{id:String,page:Number,exam:Object,duration:Object,questionLists:Object,section:Number,lastSection:Number,grade:Object,indexPage:Object},mounted(){let s=document.createElement("script");s.setAttribute("src","https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"),document.head.appendChild(s);function i(){const n=document.getElementById("elementId");st(n)}nt({},i)},setup(s){var i=f(s.indexPage);let n=["A","B","C","D","E"];const t=f(0),_=f(0),h=f(s.duration),y=()=>{h.value=h.value-1e3,t.value=t.value+1},v=()=>{s.questionLists[i.value].audio_answer_time=s.questionLists[i.value].audio_answer_time-1e3,_.value=_.value+1},d=()=>{i.value=i.value-1},l=()=>{i.value=i.value+1},g=u=>{i.value=u},I=()=>{if(s.grade.is_blocked!=1){let u=parseInt(s.grade.total_tolerance)>0?parseInt(s.grade.total_tolerance)-1:0,b=u==0?"Tolerasi habis, ":"Toleransi Tersisa "+u+" kali lagi, ";P.fire({title:"UJIAN AKAN DI DIBLOKIR JIKA ANDA MENINGGALKAN SESI UJIAN",text:b+" jika toleransi habis anda tidak dapat melanjutkan ujian dan harus menghubungi admin",icon:"warning",showCancelButton:!1,confirmButtonColor:"#d33",cancelButtonColor:"#d33",confirmButtonText:"Tutup",allowOutsideClick:!1}).then(L=>{L.isConfirmed&&N.Inertia.post(`/user/exams/${s.exam.id}/decrement-tolerance`,{grade_id:s.grade.id},{onSuccess:()=>{s.grade.total_tolerance==0&&(window.removeEventListener("blur",I),j("block"))}})})}},K=()=>{$("#playButtonAudio").hide()},Y=()=>{var u=document.getElementById("myAudio");u.play()},J=(u,b)=>{D.post(`/user/exams/${s.exam.id}/exam-answer`,{grade_id:s.grade.id,question_id:u,answer:b,number:i.value}).then(function(L){s.questionLists[i.value].answer=b,s.exam.next_question_automatically==1&&i.value<Object.keys(s.questionLists).length-1&&l()}).catch(function(L){console.log(L),alert("error silakan refresh halaman.")})},Q=(u="")=>{D.post(`/user/exams/${s.exam.id}/audio-played`,{grade_id:s.grade.id,question_id:s.questionLists[i.value].question_id}).then(function(b){s.questionLists[i.value].audio_played=s.questionLists[i.value].audio_played+1,s.questionLists[i.value].audio_played<s.questionLists[i.value].audio_played_limit&&$("#playButtonAudio").show(),u=="nextPage"&&l()}).catch(function(b){alert("error silakan refresh halaman.")})},G=f(!1),W=f(!1),j=(u="")=>{s.section==s.lastSection||u=="block"?N.Inertia.post(`/user/exams/${s.exam.id}/exam-end`,{exam_id:s.exam.id,grade_id:s.grade.id},{onSuccess:()=>{u=="block"?P.fire({title:"UJIAN DIBLOKIR KARENA SUDAH MELEWATI BATAS TOLERANSI.",text:"Anda tidak dapat melanjutkan ujian, silakan hubungi admin",icon:"warning",showCancelButton:!1,confirmButtonColor:"#d33",confirmButtonText:"Mengerti",allowOutsideClick:!1}).then(b=>{b.isConfirmed&&location.reload()}):P.fire({title:"Success..",text:"Ujian Anda Selesai, Semoga Mendapatkan Nilai Terbaik.",icon:"success",showCancelButton:!1,confirmButtonText:"Tutup",allowOutsideClick:!1}).then(b=>{b.isConfirmed&&location.reload()})}}):(N.Inertia.get(`/user/exams/${s.exam.id}/sections/${s.section+1}?nextsection=1`),P.fire({title:"Success!",text:"Continue to the next section...",icon:"success",showConfirmButton:!1,timer:2e3}))};return window.addEventListener("blur",I),{indexPage:i,options:n,removePause:K,playAudio:Y,duration:h,handleChangeDuration:y,handleChangeDurationListening:v,prevPage:d,nextPage:l,clickQuestion:g,confirm:I,submitAnswer:J,endedAudio:Q,showModalEndExam:G,showModalEndTimeExam:W,endExam:j,fullscreen:!1}},methods:{transform(s){return Object.entries(s).forEach(([i,n])=>{const t=n<10?`0${n}`:n;s[i]=`${t}`}),s}}},Ct=m(" style "),qt={class:"fullscreen-wrapper"},St={class:"container",style:{"margin-top":"100px","margin-bottom":"100px"}},At={class:"row"},Tt={class:"card"},It={class:"card-header bg-primary mb-3"},Nt={class:"d-flex justify-content-between"},jt={class:"text-start"},Dt={key:0},Bt={class:"mb-0 text-white"},Ht={key:0,class:"badge bg-danger"},Ot={class:"mb-0 text-white"},Vt={key:0,class:"badge bg-danger"},Ut={class:"text-end"},Ft={class:"mb-0 text-white"},Rt={class:"badge bg-danger"},Kt=m(" : "),Yt={class:"badge bg-danger"},Jt=m(" : "),Qt={class:"badge bg-danger"},Gt={class:"card-body"},Wt={key:0},zt={key:0},Xt={key:0},Zt={style:{"min-height":"75px"},class:"text-center"},pt={key:0},$t=e("p",null,[e("b",null,"Time Remaining")],-1),te={class:"mb-0 text-white"},ee={class:"badge bg-danger"},ne=m(" : "),se={class:"badge bg-danger"},ie=m(" : "),oe={class:"badge bg-danger"},ae={key:1},de=e("audio",{controls:"",controlsList:"noremoteplayback nodownload noplaybackrate"}," Your browser does not support the audio element. ",-1),le=[de],ce={key:2,class:"text-center",id:"audioDiv"},re=e("i",{class:"bx bx-play"},null,-1),ue=[re],_e=["src"],he=e("hr",{style:{border:"1px solid red"}},null,-1),me=["innerHTML"],ge={key:0},be={width:"50",style:{padding:"10px"}},ye=["onClick"],ve=["onClick"],fe={style:{padding:"10px"}},xe=["innerHTML"],ke={key:1},we={width:"30"},Le=["innerHTML"],Ee={key:1,class:"text-center"},Me={key:0,class:"btn btn-success ms-3"},Pe=["onClick"],Ce={key:1},qe=["innerHTML"],Se={key:1},Ae=e("div",{class:"alert alert-danger border-0 shadow"},[e("i",{class:"fa fa-exclamation-triangle"}),m(" Question Not Found!. ")],-1),Te=[Ae],Ie={class:"card-footer"},Ne={class:"d-flex justify-content-between"},je={class:"text-start"},De={key:0},Be={class:"card"},He=e("div",{class:"card-header text-white bg-primary mb-3"},[e("div",{class:"d-flex justify-content-between"},[e("div",null,[e("h5",{class:"mb-0 text-white"},"Navigation")])])],-1),Oe={class:"card-body",style:{height:"450px","overflow-y":"auto"}},Ve={key:0,style:{width:"20%",float:"left"}},Ue={style:{padding:"3px"}},Fe=["onClick"],Re=["onClick"],Ke=["onClick"],Ye={key:1,style:{width:"100%",float:"left"}},Je={style:{padding:"3px"}},Qe={key:0,class:"btn btn-warning w-100"},Ge=e("small",null,"Directions",-1),We=[Ge],ze={key:1,class:"btn btn-outline-warning w-100"},Xe=e("small",null,"Directions",-1),Ze=[Xe],pe={class:"card-footer"},$e={class:"modal-dialog"},tn={class:"modal-content"},en=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Akhiri Ujian ?")],-1),nn=e("div",{class:"modal-body"}," Setelah mengakhiri ujian, Anda tidak dapat kembali ke ujian ini lagi. Yakin akan mengakhiri ujian? ",-1),sn={class:"modal-footer"},on={class:"modal-dialog"},an={class:"modal-content"},dn=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Waktu Habis !")],-1),ln={class:"modal-body"},cn={key:0},rn=m("Waktu ujian sudah berakhir!. Klik "),un=e("strong",{class:"fw-bold"},"Ya",-1),_n=m(" untuk mengakhiri ujian."),hn=[rn,un,_n],mn={key:1},gn=m("Waktu ujian pada bagian ini sudah selesai!. Klik "),bn=e("strong",{class:"fw-bold"},"Ya",-1),yn=m(" untuk lanjut ke bagian berikutnya."),vn=[gn,bn,yn],fn={class:"modal-footer"};function xn(s,i,n,t,_,h){const y=k("Head"),v=k("VueCountdown");return o(),a(x,null,[w(y,null,{default:C(()=>[e("title",null,r(s.appName)+" - Ujian",1),Ct]),_:1}),e("div",qt,[e("div",St,[e("div",At,[e("div",{class:E(["col-md-12 col-sm-12 col-xs-12",n.exam.show_question_number_navigation==1&&n.questionLists[t.indexPage].type==1?"col-lg-8":"col-lg-12"])},[e("div",Tt,[e("div",It,[e("div",Nt,[e("div",jt,[n.exam.show_question_number==1?(o(),a("div",Dt,[e("h4",Bt,[n.questionLists[t.indexPage].type==1?(o(),a("span",Ht,"Question "+r(n.questionLists[t.indexPage].navigation_order),1)):c("",!0)]),e("h4",Ot,[n.questionLists[t.indexPage].type==2?(o(),a("span",Vt,"Directions")):c("",!0)])])):c("",!0)]),e("div",Ut,[w(v,{transform:h.transform,time:t.duration,onProgress:t.handleChangeDuration,onEnd:i[0]||(i[0]=d=>t.showModalEndTimeExam=!0)},{default:C(({hours:d,minutes:l,seconds:g})=>[e("h4",Ft,[e("span",Rt,r(d),1),Kt,e("span",Yt,r(l),1),Jt,e("span",Qt,r(g),1)])]),_:1},8,["transform","time","onProgress"])])])]),e("div",Gt,[n.questionLists[t.indexPage]?(o(),a("div",Wt,[n.questionLists[t.indexPage].type==1?(o(),a("div",zt,[n.questionLists[t.indexPage].audio_input==1?(o(),a("div",Xt,[e("div",Zt,[e("h2",null,r(),1),e("p",null,"Audio play limit : "+r(n.questionLists[t.indexPage].audio_played_limit-n.questionLists[t.indexPage].audio_played<=0?0:n.questionLists[t.indexPage].audio_played_limit-n.questionLists[t.indexPage].audio_played),1),n.questionLists[t.indexPage].audio_played==n.questionLists[t.indexPage].audio_played_limit?(o(),a("div",pt,[n.questionLists[t.indexPage].audio_answer_time>0?(o(),tt(v,{key:0,transform:h.transform,time:n.questionLists[t.indexPage].audio_answer_time,onProgress:t.handleChangeDurationListening,onEnd:i[1]||(i[1]=d=>t.endedAudio("nextPage"))},{default:C(({hours:d,minutes:l,seconds:g})=>[$t,e("h5",te,[e("span",ee,r(d),1),ne,e("span",se,r(l),1),ie,e("span",oe,r(g),1)])]),_:1},8,["transform","time","onProgress"])):c("",!0)])):c("",!0),n.questionLists[t.indexPage].audio_answer_time==0&&n.questionLists[t.indexPage].audio_played==n.questionLists[t.indexPage].audio_played_limit||n.questionLists[t.indexPage].audio_played>n.questionLists[t.indexPage].audio_played_limit?(o(),a("div",ae,le)):c("",!0),n.questionLists[t.indexPage].audio_played<n.questionLists[t.indexPage].audio_played_limit?(o(),a("div",ce,[e("button",{id:"playButtonAudio",onClick:i[2]||(i[2]=(...d)=>t.playAudio&&t.playAudio(...d)),class:"btn btn-secondary btn-sm",style:{display:"none",position:"absolute","z-index":"1","margin-top":"10px","margin-left":"15px",height:"36px",width:"36px","border-radius":"50%"}},ue),e("audio",{id:"myAudio",onPlaying:i[3]||(i[3]=(...d)=>t.removePause&&t.removePause(...d)),controls:"",autoplay:!0,controlsList:"noremoteplayback nodownload",onEnded:i[4]||(i[4]=d=>t.endedAudio()),src:"/storage/upload_files/questions/"+n.questionLists[t.indexPage].audio}," Your browser does not support the audio element. ",40,_e)])):c("",!0)]),he])):c("",!0),e("div",null,[e("div",{innerHTML:n.questionLists[t.indexPage].question,class:"prevent-select"},null,8,me)]),e("table",null,[n.exam.type_option==1?(o(),a("tbody",ge,[(o(!0),a(x,null,M(n.questionLists[t.indexPage].answer_order.split(","),(d,l)=>(o(),a("tr",{key:l},[e("span",null,[e("td",be,[d==n.questionLists[t.indexPage].answer?(o(),a("button",{key:0,onClick:g=>t.submitAnswer(n.questionLists[t.indexPage].question_id,d),class:"btn btn-success text-white"},r(t.options[l]),9,ye)):(o(),a("button",{key:1,onClick:g=>t.submitAnswer(n.questionLists[t.indexPage].question_id,d),class:"btn btn-outline-primary w-100"},r(t.options[l]),9,ve))]),e("td",fe,[n.exam.show_answer==1?(o(),a("p",{key:0,class:"prevent-select",innerHTML:n.questionLists[t.indexPage]["option_"+d]},null,8,xe)):c("",!0)])])]))),128))])):c("",!0),n.exam.type_option==2?(o(),a("tbody",ke,[n.exam.show_answer==1?(o(!0),a(x,{key:0},M(n.questionLists[t.indexPage].answer_order.split(","),(d,l)=>(o(),a("tr",{key:l},[e("td",we,[e("p",null,r(t.options[l])+".",1)]),e("td",null,[e("p",{innerHTML:n.questionLists[t.indexPage]["option_"+d]},null,8,Le)])]))),128)):c("",!0)])):c("",!0)]),n.exam.type_option==2?(o(),a("div",Ee,[(o(!0),a(x,null,M(s.answerOrder,(d,l)=>(o(),a("span",{key:l},[d==n.questionLists[t.indexPage].answer?(o(),a("button",Me,r(t.options[l]),1)):(o(),a("button",{key:1,onClick:g=>t.submitAnswer(n.page,d),class:"btn btn-outline-primary ms-3"},r(t.options[l]),9,Pe))]))),128))])):c("",!0)])):c("",!0),n.questionLists[t.indexPage].type==2?(o(),a("div",Ce,[e("div",{innerHTML:n.questionLists[t.indexPage].direction,class:"prevent-select"},null,8,qe)])):c("",!0)])):(o(),a("div",Se,Te))]),e("div",Ie,[e("div",Ne,[e("div",je,[n.exam.show_prev_next_button==1?(o(),a("div",De,[t.indexPage>0&&n.questionLists[t.indexPage].type==1?(o(),a("button",{key:0,onClick:i[5]||(i[5]=d=>t.prevPage()),type:"button",class:"btn btn-primary me-3"},"Prev")):c("",!0),t.indexPage<Object.keys(n.questionLists).length-1?(o(),a("button",{key:1,onClick:i[6]||(i[6]=d=>t.nextPage()),type:"button",class:"btn btn-success"},"Next")):c("",!0)])):c("",!0)])])])])],2),n.exam.show_question_number_navigation==1&&n.questionLists[t.indexPage].type==1?(o(),a("div",{key:0,class:E(["col-md-12 col-sm-12 col-xs-12",{"col-lg-4":n.exam.show_question_number_navigation==1}])},[e("div",Be,[He,e("div",Oe,[(o(!0),a(x,null,M(n.questionLists,(d,l)=>(o(),a("div",{key:l},[d.type==1?(o(),a("div",Ve,[e("div",Ue,[l==t.indexPage?(o(),a("button",{key:0,onClick:g=>t.clickQuestion(l),class:"btn btn-primary w-100"},[e("small",null,r(d.navigation_order),1)],8,Fe)):c("",!0),l!=t.indexPage&&d.answer==0?(o(),a("button",{key:1,onClick:g=>t.clickQuestion(l),class:"btn btn-outline-primary w-100"},[e("small",null,r(d.navigation_order),1)],8,Re)):c("",!0),l!=t.indexPage&&d.answer!=0?(o(),a("button",{key:2,onClick:g=>t.clickQuestion(l),class:"btn btn-success w-100"},[e("small",null,r(d.navigation_order),1)],8,Ke)):c("",!0)])])):c("",!0),d.type==2?(o(),a("div",Ye,[e("div",Je,[l==t.indexPage?(o(),a("button",Qe,We)):c("",!0),l!=t.indexPage?(o(),a("button",ze,Ze)):c("",!0)])])):c("",!0)]))),128))]),e("div",pe,[n.section==n.lastSection?(o(),a("button",{key:0,onClick:i[7]||(i[7]=d=>t.showModalEndExam=!0),class:"btn btn-danger btn-md border-0 shadow w-100"},"Akhiri Ujian")):(o(),a("button",{key:1,onClick:i[8]||(i[8]=(...d)=>t.endExam&&t.endExam(...d)),class:"btn btn-danger btn-md border-0 shadow w-100"},"Next Section"))])])],2)):c("",!0)])])]),t.showModalEndExam?(o(),a("div",{key:0,class:E(["modal fade",{show:t.showModalEndExam}]),tabindex:"-1","aria-hidden":"true",style:{display:"block"},role:"dialog"},[e("div",$e,[e("div",tn,[en,nn,e("div",sn,[e("button",{onClick:i[9]||(i[9]=(...d)=>t.endExam&&t.endExam(...d)),type:"button",class:"btn btn-primary"},"Ya, Akhiri"),e("button",{onClick:i[10]||(i[10]=d=>t.showModalEndExam=!1),type:"button",class:"btn btn-secondary"},"Tutup")])])])],2)):c("",!0),t.showModalEndTimeExam?(o(),a("div",{key:1,class:E(["modal fade",{show:t.showModalEndTimeExam}]),"data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-hidden":"true",style:{display:"block"},role:"dialog"},[e("div",on,[e("div",an,[dn,e("div",ln,[n.section==n.lastSection?(o(),a("div",cn,hn)):(o(),a("div",mn,vn))]),e("div",fn,[e("button",{onClick:i[11]||(i[11]=(...d)=>t.endExam&&t.endExam(...d)),type:"button",class:"btn btn-primary"},"Ya")])])])],2)):c("",!0)],64)}const Pn=T(Pt,[["render",xn]]);export{Pn as default};
